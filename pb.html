<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargando Dashboard</title>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <style>
        body {
            background: var(--gradient-primary);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: var(--font-family-display);
            color: var(--white);
            margin: 0;
        }
        .loader {
            text-align: center;
            position: relative;
        }
        .ring {
            width: 150px;
            height: 150px;
        }
        .ring circle {
            fill: none;
            stroke-width: 12;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            stroke-linecap: round;
        }
        .ring-bg {
            stroke: rgba(255,255,255,0.2);
        }
        .ring-bar {
            stroke: url(#grad);
            stroke-dasharray: 472;
            stroke-dashoffset: 472;
        }
        .value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            font-weight: 600;
        }
        .message {
            margin-top: 1.5rem;
            font-size: 1.1rem;
            animation: pulse 1.2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%,100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
    </style>
</head>
<body>
    <div class="loader">
        <svg class="ring" viewBox="0 0 150 150">
            <defs>
                <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="var(--primary-blue)"/>
                    <stop offset="100%" stop-color="var(--light-blue)"/>
                </linearGradient>
            </defs>
            <circle class="ring-bg" cx="75" cy="75" r="70" />
            <circle class="ring-bar" cx="75" cy="75" r="70" />
        </svg>
        <div id="percentage" class="value">0%</div>
        <div id="loadingText" class="message">Iniciando...</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const circle = document.querySelector('.ring-bar');
            const percentEl = document.getElementById('percentage');
            const textEl = document.getElementById('loadingText');
            const total = circle.getTotalLength();
            const messages = [
                'Iniciando...',
                'Cargando m\u00f3dulos...',
                'Preparando datos...',
                'Listo para iniciar'
            ];
            circle.style.strokeDasharray = total;
            circle.style.strokeDashoffset = total;
            let start = null;
            function animate(ts){
                if(!start) start = ts;
                const progress = Math.min((ts - start)/3000, 1);
                circle.style.strokeDashoffset = total * (1 - progress);
                percentEl.textContent = Math.floor(progress*100) + '%';
                const idx = Math.min(Math.floor(progress * messages.length), messages.length - 1);
                textEl.textContent = messages[idx];
                if(progress < 1){
                    requestAnimationFrame(animate);
                }
            }
            requestAnimationFrame(animate);
        });
    </script>
</body>
</html>
